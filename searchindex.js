Search.setIndex({"docnames": ["index", "src/api/bms", "src/api/data_objects", "src/api/misc", "src/dev/building_flashing", "src/dev/customization", "src/dev/unit_tests", "src/dev/workspace_setup", "src/features", "src/supported_hardware"], "filenames": ["index.rst", "src/api/bms.rst", "src/api/data_objects.rst", "src/api/misc.rst", "src/dev/building_flashing.rst", "src/dev/customization.rst", "src/dev/unit_tests.rst", "src/dev/workspace_setup.rst", "src/features.rst", "src/supported_hardware.rst"], "titles": ["Libre Solar BMS Firmware Documentation", "BMS", "Data Objects", "Misc", "Building and Flashing", "Customization", "Unit Tests", "Workspace Setup", "Features", "Supported Hardware"], "terms": {"thi": [0, 1, 5, 7, 9], "describ": [0, 5], "base": [0, 1, 5, 8], "zephyr": [0, 4, 5, 7, 8], "rto": 0, "differ": [0, 1, 8, 9], "batteri": [0, 1], "manag": [0, 1], "system": [0, 1, 3, 5], "The": [0, 1, 4, 5, 9], "i": [0, 1, 4, 5, 6, 9], "under": [0, 1, 8], "ongo": 0, "develop": [0, 5, 6], "most": [0, 1, 4, 7], "recent": [0, 1, 4], "version": [0, 4], "can": [0, 1, 4, 5, 6, 7, 8], "found": 0, "github": [0, 4, 7], "licens": 0, "creativ": 0, "common": 0, "attribut": 0, "sharealik": 0, "4": [0, 1], "0": [0, 1, 9], "intern": [0, 1], "cc": 0, "BY": 0, "sa": 0, "full": [0, 1, 9], "text": 0, "avail": [0, 4, 8, 9], "http": [0, 7, 8], "creativecommon": 0, "org": 0, "modul": [1, 7], "analog": 1, "frontend": 1, "defin": [1, 2, 5], "ocv_point": 1, "enum": [1, 2], "bmsstate": 1, "possibl": [1, 5, 8], "state": 1, "valu": [1, 2, 3], "enumer": 1, "bms_state_off": 1, "off": [1, 3], "charg": [1, 8], "discharg": [1, 8], "disabl": [1, 5], "bms_state_chg": 1, "bms_state_di": 1, "bms_state_norm": 1, "normal": 1, "oper": 1, "mode": 1, "both": 1, "enabl": [1, 8], "bms_state_shutdown": 1, "start": [1, 8], "shutdown": [1, 2], "sequenc": 1, "celltyp": 1, "cell": [1, 8, 9], "type": [1, 2, 8], "cell_type_custom": 1, "custom": [1, 8], "set": [1, 5, 7], "cell_type_lfp": 1, "lifepo4": [1, 5, 8], "li": 1, "ion": 1, "3": [1, 3, 9], "v": [1, 8], "nomin": [1, 5, 8], "cell_type_nmc": 1, "nmc": [1, 2, 8], "graphit": 1, "7": 1, "cell_type_nmc_hv": 1, "high": 1, "voltag": [1, 8, 9], "35": 1, "max": 1, "cell_type_lto": 1, "titan": 1, "2": [1, 9], "bmserrorflag": 1, "error": [1, 8], "flag": 1, "bms_err_cell_undervoltag": 1, "undervoltag": 1, "bms_err_cell_overvoltag": 1, "bms_err_short_circuit": 1, "pack": [1, 8], "short": [1, 8], "circuit": [1, 8], "direct": 1, "bms_err_dis_overcurr": 1, "overcurr": 1, "bms_err_chg_overcurr": 1, "bms_err_open_wir": 1, "open": [1, 8], "wire": 1, "bms_err_dis_undertemp": 1, "temperatur": [1, 8], "below": [1, 7, 9], "minimum": [1, 8], "limit": [1, 8], "bms_err_dis_overtemp": 1, "abov": [1, 4], "maximum": 1, "bms_err_chg_undertemp": 1, "bms_err_chg_overtemp": 1, "bms_err_int_overtemp": 1, "e": [1, 4, 5, 7], "g": [1, 4, 5, 7], "ic": [1, 6], "bms_err_cell_failur": 1, "failur": 1, "too": 1, "bms_err_dis_off": 1, "fet": 1, "even": 1, "though": 1, "should": [1, 4, 6], "bms_err_chg_off": 1, "bms_err_fet_overtemp": 1, "mosfet": 1, "function": [1, 2, 3, 6], "void": [1, 2, 3], "bms_init_statu": 1, "initi": [1, 3, 4, 7], "bmsstatu": 1, "suitabl": 1, "default": [1, 4, 5, 6, 9], "paramet": [1, 2], "pointer": [1, 3], "object": 1, "bms_init_config": 1, "int": 1, "float": [1, 3], "nominal_capac": 1, "bmsconfig": 1, "typic": 1, "given": 1, "One": 1, "so": [1, 4, 5], "via": [1, 2, 5, 8], "kconfig": [1, 5], "capac": [1, 8], "bms_init_hardwar": 1, "incl": 1, "setup": 1, "commun": 1, "doe": 1, "yet": 1, "ani": 1, "config": [1, 7], "return": [1, 3], "success": 1, "otherwis": 1, "neg": 1, "code": [1, 4], "bms_state_machin": 1, "main": [1, 4, 5, 7], "machin": 1, "bms_updat": 1, "updat": [1, 4, 7], "measur": 1, "check": [1, 3], "befor": [1, 8], "call": [1, 2, 5], "least": [1, 3], "onc": 1, "everi": 1, "250": 1, "m": [1, 7, 8], "get": [1, 4], "correct": [1, 4], "coulomb": [1, 8], "count": [1, 8], "bool": [1, 3], "bms_startup_inhibit": 1, "up": [1, 3, 7, 8], "delai": [1, 8], "indic": 1, "true": [1, 3], "we": [1, 4], "wait": 1, "bms_shutdown": [1, 2], "shut": 1, "down": 1, "entir": 1, "pcb": 1, "power": 1, "suppli": 1, "bms_chg_switch": 1, "desir": [1, 4], "statu": [1, 9], "bms_dis_switch": 1, "bms_chg_error": 1, "uint32_t": [1, 3], "error_flag": 1, "bms_dis_error": 1, "bms_chg_allow": 1, "allow": [1, 5, 9], "ar": [1, 5, 6, 9], "bms_dis_allow": 1, "bms_balancing_allow": 1, "balanc": [1, 8, 9], "bms_soc_reset": 1, "percent": 1, "reset": [1, 2, 8], "soc": [1, 8], "specifi": [1, 4, 5, 6], "calcul": 1, "averag": 1, "100": [1, 5], "1": [1, 5, 9], "ocv": [1, 8], "bms_soc_upd": 1, "current": [1, 8, 9], "each": [1, 7], "time": [1, 7], "after": 1, "new": [1, 5, 6, 7], "wa": [1, 3], "obtain": 1, "bms_configur": 1, "appli": [1, 2], "configur": [1, 3, 7, 8, 9], "includ": [1, 5], "all": [1, 4, 5, 7, 8], "threshold": [1, 8], "well": 1, "If": [1, 5, 7], "setpoint": 1, "exactli": 1, "match": 1, "round": 1, "closest": 1, "written": 1, "back": 1, "bms_read_voltag": 1, "read": [1, 2], "arrai": [1, 3], "cell_voltag": 1, "num_cel": 1, "battery_voltag": 1, "id": 1, "min": 1, "bms_read_curr": 1, "coloumb": 1, "counter": 1, "bms_read_temperatur": 1, "sensor": 1, "bms_update_error_flag": 1, "from": [1, 5, 8], "them": 1, "bms_handle_error": 1, "tri": 1, "handl": [1, 2, 3, 4], "resolv": 1, "bms_print_regist": 1, "uint16_t": 1, "addr": 1, "print": [1, 2], "regist": [1, 2], "address": 1, "variabl": 1, "static": [1, 3], "const": [1, 3], "soc_pct": 1, "0f": 1, "95": 1, "90": 1, "85": 1, "80": 1, "70": 1, "65": 1, "60": 1, "55": 1, "50": 1, "45": 1, "40": [1, 9], "30": 1, "25": 1, "20": 1, "15": [1, 9], "10": [1, 5, 9], "5": [1, 9], "struct": 1, "h": [1, 3], "store": [1, 5], "ram": 1, "automat": [1, 5, 8], "chang": [1, 2], "public": [1, 5], "member": 1, "shunt_res_mohm": 1, "effect": 1, "resist": 1, "shunt": [1, 8], "": [1, 8], "milli": 1, "ohm": 1, "thermistor_beta": 1, "beta": 1, "us": [1, 3, 4, 5, 7, 8, 9], "thermistor": [1, 8], "semitec": 1, "103at": 1, "3435": 1, "an": [1, 5, 6], "contain": [1, 4, 5, 7], "must": [1, 3], "equal": 1, "space": 1, "descend": 1, "order": [1, 5], "nominal_capacity_ah": 1, "ah": 1, "dis_sc_limit": 1, "A": [1, 8], "dis_sc_delay_u": 1, "u": [1, 8], "dis_oc_limit": 1, "over": [1, 8], "dis_oc_delay_m": 1, "chg_oc_limit": 1, "chg_oc_delay_m": 1, "cell_chg_voltag": 1, "target": [1, 8], "cell_dis_voltag": 1, "cell_ov_limit": 1, "cell_ov_reset": 1, "cell_ov_delay_m": 1, "cell_uv_limit": 1, "cell_uv_reset": 1, "cell_uv_delay_m": 1, "dis_ot_limit": 1, "dot": [1, 8], "c": [1, 8], "dis_ut_limit": 1, "dut": [1, 8], "chg_ot_limit": 1, "cot": [1, 8], "chg_ut_limit": 1, "cut": [1, 8], "t_limit_hyst": 1, "hysteresi": [1, 8], "bal_cell_voltage_diff": 1, "bal_cell_voltage_min": 1, "bal_idle_curr": 1, "consid": [1, 8], "idl": [1, 8], "bal_idle_delai": 1, "durat": [1, 8], "chg_enabl": 1, "manual": [1, 5], "dis_en": 1, "connected_cel": 1, "actual": 1, "number": [1, 8], "connect": 1, "might": 1, "less": 1, "than": 1, "board_num_cells_max": 1, "singl": [1, 4, 9], "cell_voltage_max": 1, "cell_voltage_min": 1, "cell_voltage_avg": 1, "pack_voltag": 1, "extern": 1, "stack_voltag": 1, "stack": 1, "pack_curr": 1, "ha": [1, 5, 8], "posit": [1, 3], "sign": 1, "bat_temp": 1, "board_num_thermistors_max": 1, "bat_temp_max": 1, "bat_temp_min": 1, "bat_temp_avg": 1, "mosfet_temp": 1, "ic_temp": 1, "mcu_temp": 1, "mcu": [1, 5, 9], "cv": 1, "finish": 1, "empti": 1, "balancing_statu": 1, "hold": 1, "switch": [1, 3, 4, 7], "time_t": 1, "no_idle_timestamp": 1, "last": 1, "bit": [1, 3], "conf": [1, 2, 5], "thingset": [2, 5, 8], "node": 2, "app_id_devic": 2, "app_id_device_manufactur": 2, "app_id_device_typ": 2, "app_id_device_hw_v": 2, "app_id_device_fw_v": 2, "app_id_device_shutdown": 2, "app_id_device_reset": 2, "app_id_device_print_reg": 2, "app_id_device_print_reg_addr": 2, "app_id_conf": 2, "app_id_conf_nominal_capac": 2, "app_id_conf_short_circuit_curr": 2, "app_id_conf_short_circuit_delai": 2, "app_id_conf_dis_overcurr": 2, "app_id_conf_dis_overcurrent_delai": 2, "app_id_conf_chg_overcurr": 2, "app_id_conf_chg_overcurrent_delai": 2, "app_id_conf_dis_max_temp": 2, "app_id_conf_dis_min_temp": 2, "app_id_conf_chg_max_temp": 2, "app_id_conf_chg_min_temp": 2, "app_id_conf_temp_hyst": 2, "app_id_conf_cell_overvoltag": 2, "app_id_conf_cell_overvoltage_reset": 2, "app_id_conf_cell_overvoltage_delai": 2, "app_id_conf_cell_undervoltag": 2, "app_id_conf_cell_undervoltage_reset": 2, "app_id_conf_cell_undervoltage_delai": 2, "app_id_conf_bal_target_diff": 2, "app_id_conf_bal_min_voltag": 2, "app_id_conf_bal_idle_delai": 2, "app_id_conf_bal_idle_curr": 2, "app_id_conf_preset_nmc": 2, "app_id_conf_preset_nmc_capac": 2, "app_id_conf_preset_lfp": 2, "app_id_conf_preset_lfp_capac": 2, "app_id_mea": 2, "app_id_meas_pack_voltag": 2, "app_id_meas_stack_voltag": 2, "app_id_meas_pack_curr": 2, "app_id_meas_bat_temp": 2, "app_id_meas_ic_temp": 2, "app_id_meas_mcu_temp": 2, "app_id_meas_mosfet_temp": 2, "app_id_meas_soc": 2, "app_id_meas_error_flag": 2, "app_id_meas_bms_st": 2, "app_id_meas_cell_voltag": 2, "app_id_meas_cell_avg_voltag": 2, "app_id_meas_cell_min_voltag": 2, "app_id_meas_cell_max_voltag": 2, "app_id_meas_balancing_statu": 2, "app_id_input": 2, "app_id_input_chg_en": 2, "app_id_input_dis_en": 2, "data_objects_update_conf": 2, "thingset_callback_reason": 2, "reason": 2, "callback": 2, "when": [2, 5], "were": 2, "int32_t": 2, "bat_preset_nmc": 2, "preset": 2, "bat_preset_lfp": 2, "lfp": 2, "print_regist": 2, "bm": [2, 5, 7, 8], "reset_devic": 2, "devic": 2, "obvious": 2, "invok": 2, "doxygenfil": 3, "cannot": 3, "find": 3, "file": [3, 4, 5, 7], "button_init": 3, "interrupt": 3, "button_pressed_for_3": 3, "press": [3, 4], "second": [3, 5], "gener": 3, "interpol": 3, "b": [3, 4, 6], "size_t": 3, "size": 3, "value_a": 3, "look": [3, 7, 8], "tabl": [3, 4, 8], "monoton": 3, "increas": 3, "decreas": 3, "uptim": 3, "framework": 3, "independ": 3, "sinc": 3, "boot": 3, "char": 3, "byte2bitstr": 3, "uint8_t": 3, "convert": 3, "byte": 3, "string": 3, "attent": 3, "buffer": 3, "thread": 3, "safe": 3, "8": [3, 5, 9], "charact": 3, "null": 3, "As": 4, "branch": 4, "mai": [4, 7], "unstabl": 4, "make": 4, "sure": 4, "select": [4, 6], "releas": 4, "see": [4, 5], "list": [4, 9], "git": [4, 7], "your": [4, 7], "west": [4, 5, 6, 7], "app": [4, 5, 7], "subfold": [4, 5], "applic": [4, 7], "sourc": [4, 7], "cmake": 4, "entri": 4, "point": 4, "firmwar": [4, 7, 9], "go": [4, 7], "directori": [4, 7], "first": 4, "cd": [4, 6, 7], "name": 4, "revis": [4, 9], "append": 4, "accord": [4, 7], "It": [4, 5], "omit": 4, "onli": [4, 5], "also": [4, 5, 7, 9], "here": 4, "more": 4, "detail": 4, "regard": 4, "specif": [4, 7], "debug": 4, "probe": 4, "runner": 4, "j": 4, "link": 4, "r": 4, "jlink": 4, "requir": [4, 7], "addit": [4, 5], "step": [4, 6], "binari": 4, "blob": 4, "fetch": 4, "hal_espressif": 4, "afterward": [4, 7], "you": [4, 6, 7], "same": [4, 7], "wai": 4, "For": [4, 5], "monitor": [4, 8, 9], "serial": [4, 8], "built": 4, "espressif": 4, "toolchain": 4, "ctrl": 4, "t": [4, 5, 6], "follow": [4, 5, 6, 8], "x": 4, "exit": 4, "easi": 5, "board": [5, 6, 7, 8], "In": 5, "devicetre": 5, "arm": 5, "board_nam": 5, "dt": 5, "which": [5, 9], "repositori": [5, 7], "overwrit": 5, "overlai": [5, 6], "command": [5, 6, 7], "line": 5, "recogn": 5, "build": [5, 6], "featur": [5, 9], "menuconfig": 5, "prj": 5, "option": [5, 8], "similar": 5, "per": 5, "creat": [5, 7], "folder": [5, 7], "merg": 5, "By": [5, 6], "config_cell_type_lfp": 5, "other": [5, 6, 7], "pre": 5, "config_bat_type_nmc": 5, "config_bat_type_nmc_hv": 5, "config_bat_type_lto": 5, "config_num_cells_in_seri": 5, "isl94202": [5, 6, 9], "chip": [5, 9], "detect": 5, "ignor": 5, "To": 5, "compil": 5, "24v": 5, "100ah": 5, "add": 5, "config_bat_capacity_ah": 5, "y": 5, "expos": 5, "its": 5, "data": 5, "protocol": [5, 8], "live": 5, "publish": 5, "interv": 5, "snippet": 5, "chosen": 5, "usart2": 5, "regular": 5, "startup": 5, "config_thingset_reporting_live_enable_preset": 5, "n": 5, "period": 5, "config_thingset_reporting_live_period_preset": 5, "write": 6, "still": 6, "work": 6, "progress": 6, "implement": 6, "driven": 6, "fashion": 6, "old": 6, "ad": 6, "run": 6, "p": 6, "native_posix": 6, "locat": 6, "ddtc_overlay_fil": 6, "bq769x0": 6, "guid": 7, "assum": 7, "have": 7, "alreadi": 7, "instal": 7, "sdk": 7, "tool": 7, "document": 7, "pull": 7, "init": 7, "com": 7, "libresolar": 7, "upstream": 7, "take": 7, "while": 7, "import": 7, "like": 7, "test": 7, "unit": 7, "yml": 7, "manifest": 7, "libr": [7, 9], "solar": [7, 9], "re": 7, "avoid": 7, "mani": 7, "copi": 7, "clone": 7, "done": 7, "between": 7, "path": 7, "amongst": 8, "inherit": 8, "underli": 8, "map": 8, "mqtt": 8, "coap": 8, "interfac": 8, "bu": 8, "bluetooth": 8, "extens": 8, "uext": 8, "connector": 8, "depend": 8, "hardwar": 8, "i2c": 8, "spi": 8, "uart": 8, "estim": 8, "layout": 8, "chemistri": 8, "nca": 8, "resistor": 8, "protect": [8, 9], "softwar": 9, "easili": 9, "stm32": 9, "esp32": 9, "older": 9, "5s50": 9, "sc": 9, "stm32f072": 9, "bq76920": 9, "15s80": 9, "bq76930": 9, "16s100": 9, "stm32g0b1": 9, "bq76952": 9, "c1": 9, "c3": 9, "8s50": 9, "stm32l452": 9, "usual": 9, "provid": 9, "manufactur": 9, "datasheet": 9, "texa": 9, "instrument": 9, "6": 9, "bq76940": 9, "9": 9, "16": 9, "renesa": 9, "intersil": 9}, "objects": {"": [[2, 0, 1, "c.APP_ID_CONF", "APP_ID_CONF"], [2, 0, 1, "c.APP_ID_CONF_BAL_IDLE_CURRENT", "APP_ID_CONF_BAL_IDLE_CURRENT"], [2, 0, 1, "c.APP_ID_CONF_BAL_IDLE_DELAY", "APP_ID_CONF_BAL_IDLE_DELAY"], [2, 0, 1, "c.APP_ID_CONF_BAL_MIN_VOLTAGE", "APP_ID_CONF_BAL_MIN_VOLTAGE"], [2, 0, 1, "c.APP_ID_CONF_BAL_TARGET_DIFF", "APP_ID_CONF_BAL_TARGET_DIFF"], [2, 0, 1, "c.APP_ID_CONF_CELL_OVERVOLTAGE", "APP_ID_CONF_CELL_OVERVOLTAGE"], [2, 0, 1, "c.APP_ID_CONF_CELL_OVERVOLTAGE_DELAY", "APP_ID_CONF_CELL_OVERVOLTAGE_DELAY"], [2, 0, 1, "c.APP_ID_CONF_CELL_OVERVOLTAGE_RESET", "APP_ID_CONF_CELL_OVERVOLTAGE_RESET"], [2, 0, 1, "c.APP_ID_CONF_CELL_UNDERVOLTAGE", "APP_ID_CONF_CELL_UNDERVOLTAGE"], [2, 0, 1, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_DELAY", "APP_ID_CONF_CELL_UNDERVOLTAGE_DELAY"], [2, 0, 1, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_RESET", "APP_ID_CONF_CELL_UNDERVOLTAGE_RESET"], [2, 0, 1, "c.APP_ID_CONF_CHG_MAX_TEMP", "APP_ID_CONF_CHG_MAX_TEMP"], [2, 0, 1, "c.APP_ID_CONF_CHG_MIN_TEMP", "APP_ID_CONF_CHG_MIN_TEMP"], [2, 0, 1, "c.APP_ID_CONF_CHG_OVERCURRENT", "APP_ID_CONF_CHG_OVERCURRENT"], [2, 0, 1, "c.APP_ID_CONF_CHG_OVERCURRENT_DELAY", "APP_ID_CONF_CHG_OVERCURRENT_DELAY"], [2, 0, 1, "c.APP_ID_CONF_DIS_MAX_TEMP", "APP_ID_CONF_DIS_MAX_TEMP"], [2, 0, 1, "c.APP_ID_CONF_DIS_MIN_TEMP", "APP_ID_CONF_DIS_MIN_TEMP"], [2, 0, 1, "c.APP_ID_CONF_DIS_OVERCURRENT", "APP_ID_CONF_DIS_OVERCURRENT"], [2, 0, 1, "c.APP_ID_CONF_DIS_OVERCURRENT_DELAY", "APP_ID_CONF_DIS_OVERCURRENT_DELAY"], [2, 0, 1, "c.APP_ID_CONF_NOMINAL_CAPACITY", "APP_ID_CONF_NOMINAL_CAPACITY"], [2, 0, 1, "c.APP_ID_CONF_PRESET_LFP", "APP_ID_CONF_PRESET_LFP"], [2, 0, 1, "c.APP_ID_CONF_PRESET_LFP_CAPACITY", "APP_ID_CONF_PRESET_LFP_CAPACITY"], [2, 0, 1, "c.APP_ID_CONF_PRESET_NMC", "APP_ID_CONF_PRESET_NMC"], [2, 0, 1, "c.APP_ID_CONF_PRESET_NMC_CAPACITY", "APP_ID_CONF_PRESET_NMC_CAPACITY"], [2, 0, 1, "c.APP_ID_CONF_SHORT_CIRCUIT_CURRENT", "APP_ID_CONF_SHORT_CIRCUIT_CURRENT"], [2, 0, 1, "c.APP_ID_CONF_SHORT_CIRCUIT_DELAY", "APP_ID_CONF_SHORT_CIRCUIT_DELAY"], [2, 0, 1, "c.APP_ID_CONF_TEMP_HYST", "APP_ID_CONF_TEMP_HYST"], [2, 0, 1, "c.APP_ID_DEVICE", "APP_ID_DEVICE"], [2, 0, 1, "c.APP_ID_DEVICE_FW_VER", "APP_ID_DEVICE_FW_VER"], [2, 0, 1, "c.APP_ID_DEVICE_HW_VER", "APP_ID_DEVICE_HW_VER"], [2, 0, 1, "c.APP_ID_DEVICE_MANUFACTURER", "APP_ID_DEVICE_MANUFACTURER"], [2, 0, 1, "c.APP_ID_DEVICE_PRINT_REG", "APP_ID_DEVICE_PRINT_REG"], [2, 0, 1, "c.APP_ID_DEVICE_PRINT_REGS", "APP_ID_DEVICE_PRINT_REGS"], [2, 0, 1, "c.APP_ID_DEVICE_PRINT_REG_ADDR", "APP_ID_DEVICE_PRINT_REG_ADDR"], [2, 0, 1, "c.APP_ID_DEVICE_RESET", "APP_ID_DEVICE_RESET"], [2, 0, 1, "c.APP_ID_DEVICE_SHUTDOWN", "APP_ID_DEVICE_SHUTDOWN"], [2, 0, 1, "c.APP_ID_DEVICE_TYPE", "APP_ID_DEVICE_TYPE"], [2, 0, 1, "c.APP_ID_INPUT", "APP_ID_INPUT"], [2, 0, 1, "c.APP_ID_INPUT_CHG_ENABLE", "APP_ID_INPUT_CHG_ENABLE"], [2, 0, 1, "c.APP_ID_INPUT_DIS_ENABLE", "APP_ID_INPUT_DIS_ENABLE"], [2, 0, 1, "c.APP_ID_MEAS", "APP_ID_MEAS"], [2, 0, 1, "c.APP_ID_MEAS_BALANCING_STATUS", "APP_ID_MEAS_BALANCING_STATUS"], [2, 0, 1, "c.APP_ID_MEAS_BAT_TEMP", "APP_ID_MEAS_BAT_TEMP"], [2, 0, 1, "c.APP_ID_MEAS_BMS_STATE", "APP_ID_MEAS_BMS_STATE"], [2, 0, 1, "c.APP_ID_MEAS_CELL_AVG_VOLTAGE", "APP_ID_MEAS_CELL_AVG_VOLTAGE"], [2, 0, 1, "c.APP_ID_MEAS_CELL_MAX_VOLTAGE", "APP_ID_MEAS_CELL_MAX_VOLTAGE"], [2, 0, 1, "c.APP_ID_MEAS_CELL_MIN_VOLTAGE", "APP_ID_MEAS_CELL_MIN_VOLTAGE"], [2, 0, 1, "c.APP_ID_MEAS_CELL_VOLTAGES", "APP_ID_MEAS_CELL_VOLTAGES"], [2, 0, 1, "c.APP_ID_MEAS_ERROR_FLAGS", "APP_ID_MEAS_ERROR_FLAGS"], [2, 0, 1, "c.APP_ID_MEAS_IC_TEMP", "APP_ID_MEAS_IC_TEMP"], [2, 0, 1, "c.APP_ID_MEAS_MCU_TEMP", "APP_ID_MEAS_MCU_TEMP"], [2, 0, 1, "c.APP_ID_MEAS_MOSFET_TEMP", "APP_ID_MEAS_MOSFET_TEMP"], [2, 0, 1, "c.APP_ID_MEAS_PACK_CURRENT", "APP_ID_MEAS_PACK_CURRENT"], [2, 0, 1, "c.APP_ID_MEAS_PACK_VOLTAGE", "APP_ID_MEAS_PACK_VOLTAGE"], [2, 0, 1, "c.APP_ID_MEAS_SOC", "APP_ID_MEAS_SOC"], [2, 0, 1, "c.APP_ID_MEAS_STACK_VOLTAGE", "APP_ID_MEAS_STACK_VOLTAGE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CELL_FAILURE", "BMS_ERR_CELL_FAILURE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CELL_OVERVOLTAGE", "BMS_ERR_CELL_OVERVOLTAGE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CELL_UNDERVOLTAGE", "BMS_ERR_CELL_UNDERVOLTAGE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_OFF", "BMS_ERR_CHG_OFF"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_OVERCURRENT", "BMS_ERR_CHG_OVERCURRENT"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_OVERTEMP", "BMS_ERR_CHG_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_UNDERTEMP", "BMS_ERR_CHG_UNDERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_OFF", "BMS_ERR_DIS_OFF"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_OVERCURRENT", "BMS_ERR_DIS_OVERCURRENT"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_OVERTEMP", "BMS_ERR_DIS_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_UNDERTEMP", "BMS_ERR_DIS_UNDERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_FET_OVERTEMP", "BMS_ERR_FET_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_INT_OVERTEMP", "BMS_ERR_INT_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_OPEN_WIRE", "BMS_ERR_OPEN_WIRE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_SHORT_CIRCUIT", "BMS_ERR_SHORT_CIRCUIT"], [1, 1, 1, "c.BmsState.BMS_STATE_CHG", "BMS_STATE_CHG"], [1, 1, 1, "c.BmsState.BMS_STATE_DIS", "BMS_STATE_DIS"], [1, 1, 1, "c.BmsState.BMS_STATE_NORMAL", "BMS_STATE_NORMAL"], [1, 1, 1, "c.BmsState.BMS_STATE_OFF", "BMS_STATE_OFF"], [1, 1, 1, "c.BmsState.BMS_STATE_SHUTDOWN", "BMS_STATE_SHUTDOWN"], [1, 2, 1, "c.Bms", "Bms"], [1, 2, 1, "c.BmsConfig", "BmsConfig"], [1, 4, 1, "c.BmsErrorFlag", "BmsErrorFlag"], [1, 4, 1, "c.BmsState", "BmsState"], [1, 2, 1, "c.BmsStatus", "BmsStatus"], [1, 1, 1, "c.CellType.CELL_TYPE_CUSTOM", "CELL_TYPE_CUSTOM"], [1, 1, 1, "c.CellType.CELL_TYPE_LFP", "CELL_TYPE_LFP"], [1, 1, 1, "c.CellType.CELL_TYPE_LTO", "CELL_TYPE_LTO"], [1, 1, 1, "c.CellType.CELL_TYPE_NMC", "CELL_TYPE_NMC"], [1, 1, 1, "c.CellType.CELL_TYPE_NMC_HV", "CELL_TYPE_NMC_HV"], [1, 4, 1, "c.CellType", "CellType"], [1, 0, 1, "c.OCV_POINTS", "OCV_POINTS"], [2, 5, 1, "c.bat_preset_lfp", "bat_preset_lfp"], [2, 5, 1, "c.bat_preset_nmc", "bat_preset_nmc"], [1, 5, 1, "c.bms_balancing_allowed", "bms_balancing_allowed"], [1, 5, 1, "c.bms_chg_allowed", "bms_chg_allowed"], [1, 5, 1, "c.bms_chg_error", "bms_chg_error"], [1, 5, 1, "c.bms_chg_switch", "bms_chg_switch"], [1, 5, 1, "c.bms_configure", "bms_configure"], [1, 5, 1, "c.bms_dis_allowed", "bms_dis_allowed"], [1, 5, 1, "c.bms_dis_error", "bms_dis_error"], [1, 5, 1, "c.bms_dis_switch", "bms_dis_switch"], [1, 5, 1, "c.bms_handle_errors", "bms_handle_errors"], [1, 5, 1, "c.bms_init_config", "bms_init_config"], [1, 5, 1, "c.bms_init_hardware", "bms_init_hardware"], [1, 5, 1, "c.bms_init_status", "bms_init_status"], [1, 5, 1, "c.bms_print_register", "bms_print_register"], [1, 5, 1, "c.bms_print_registers", "bms_print_registers"], [1, 5, 1, "c.bms_read_current", "bms_read_current"], [1, 5, 1, "c.bms_read_temperatures", "bms_read_temperatures"], [1, 5, 1, "c.bms_read_voltages", "bms_read_voltages"], [1, 5, 1, "c.bms_shutdown", "bms_shutdown"], [1, 5, 1, "c.bms_soc_reset", "bms_soc_reset"], [1, 5, 1, "c.bms_soc_update", "bms_soc_update"], [1, 5, 1, "c.bms_startup_inhibit", "bms_startup_inhibit"], [1, 5, 1, "c.bms_state_machine", "bms_state_machine"], [1, 5, 1, "c.bms_update", "bms_update"], [1, 5, 1, "c.bms_update_error_flags", "bms_update_error_flags"], [3, 5, 1, "c.button_init", "button_init"], [3, 5, 1, "c.button_pressed_for_3s", "button_pressed_for_3s"], [3, 5, 1, "c.byte2bitstr", "byte2bitstr"], [2, 5, 1, "c.data_objects_update_conf", "data_objects_update_conf"], [3, 5, 1, "c.interpolate", "interpolate"], [2, 5, 1, "c.print_register", "print_register"], [2, 5, 1, "c.reset_device", "reset_device"], [2, 5, 1, "c.shutdown", "shutdown"], [1, 3, 1, "c.soc_pct", "soc_pct"], [3, 5, 1, "c.uptime", "uptime"]], "Bms": [[1, 3, 1, "c.Bms.conf", "conf"], [1, 3, 1, "c.Bms.status", "status"]], "BmsConfig": [[1, 3, 1, "c.BmsConfig.bal_cell_voltage_diff", "bal_cell_voltage_diff"], [1, 3, 1, "c.BmsConfig.bal_cell_voltage_min", "bal_cell_voltage_min"], [1, 3, 1, "c.BmsConfig.bal_idle_current", "bal_idle_current"], [1, 3, 1, "c.BmsConfig.bal_idle_delay", "bal_idle_delay"], [1, 3, 1, "c.BmsConfig.cell_chg_voltage", "cell_chg_voltage"], [1, 3, 1, "c.BmsConfig.cell_dis_voltage", "cell_dis_voltage"], [1, 3, 1, "c.BmsConfig.cell_ov_delay_ms", "cell_ov_delay_ms"], [1, 3, 1, "c.BmsConfig.cell_ov_limit", "cell_ov_limit"], [1, 3, 1, "c.BmsConfig.cell_ov_reset", "cell_ov_reset"], [1, 3, 1, "c.BmsConfig.cell_uv_delay_ms", "cell_uv_delay_ms"], [1, 3, 1, "c.BmsConfig.cell_uv_limit", "cell_uv_limit"], [1, 3, 1, "c.BmsConfig.cell_uv_reset", "cell_uv_reset"], [1, 3, 1, "c.BmsConfig.chg_oc_delay_ms", "chg_oc_delay_ms"], [1, 3, 1, "c.BmsConfig.chg_oc_limit", "chg_oc_limit"], [1, 3, 1, "c.BmsConfig.chg_ot_limit", "chg_ot_limit"], [1, 3, 1, "c.BmsConfig.chg_ut_limit", "chg_ut_limit"], [1, 3, 1, "c.BmsConfig.dis_oc_delay_ms", "dis_oc_delay_ms"], [1, 3, 1, "c.BmsConfig.dis_oc_limit", "dis_oc_limit"], [1, 3, 1, "c.BmsConfig.dis_ot_limit", "dis_ot_limit"], [1, 3, 1, "c.BmsConfig.dis_sc_delay_us", "dis_sc_delay_us"], [1, 3, 1, "c.BmsConfig.dis_sc_limit", "dis_sc_limit"], [1, 3, 1, "c.BmsConfig.dis_ut_limit", "dis_ut_limit"], [1, 3, 1, "c.BmsConfig.nominal_capacity_Ah", "nominal_capacity_Ah"], [1, 3, 1, "c.BmsConfig.ocv", "ocv"], [1, 3, 1, "c.BmsConfig.shunt_res_mOhm", "shunt_res_mOhm"], [1, 3, 1, "c.BmsConfig.t_limit_hyst", "t_limit_hyst"], [1, 3, 1, "c.BmsConfig.thermistor_beta", "thermistor_beta"]], "BmsErrorFlag": [[1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CELL_FAILURE", "BMS_ERR_CELL_FAILURE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CELL_OVERVOLTAGE", "BMS_ERR_CELL_OVERVOLTAGE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CELL_UNDERVOLTAGE", "BMS_ERR_CELL_UNDERVOLTAGE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_OFF", "BMS_ERR_CHG_OFF"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_OVERCURRENT", "BMS_ERR_CHG_OVERCURRENT"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_OVERTEMP", "BMS_ERR_CHG_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_CHG_UNDERTEMP", "BMS_ERR_CHG_UNDERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_OFF", "BMS_ERR_DIS_OFF"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_OVERCURRENT", "BMS_ERR_DIS_OVERCURRENT"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_OVERTEMP", "BMS_ERR_DIS_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_DIS_UNDERTEMP", "BMS_ERR_DIS_UNDERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_FET_OVERTEMP", "BMS_ERR_FET_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_INT_OVERTEMP", "BMS_ERR_INT_OVERTEMP"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_OPEN_WIRE", "BMS_ERR_OPEN_WIRE"], [1, 1, 1, "c.BmsErrorFlag.BMS_ERR_SHORT_CIRCUIT", "BMS_ERR_SHORT_CIRCUIT"]], "BmsState": [[1, 1, 1, "c.BmsState.BMS_STATE_CHG", "BMS_STATE_CHG"], [1, 1, 1, "c.BmsState.BMS_STATE_DIS", "BMS_STATE_DIS"], [1, 1, 1, "c.BmsState.BMS_STATE_NORMAL", "BMS_STATE_NORMAL"], [1, 1, 1, "c.BmsState.BMS_STATE_OFF", "BMS_STATE_OFF"], [1, 1, 1, "c.BmsState.BMS_STATE_SHUTDOWN", "BMS_STATE_SHUTDOWN"]], "BmsStatus": [[1, 3, 1, "c.BmsStatus.balancing_status", "balancing_status"], [1, 3, 1, "c.BmsStatus.bat_temp_avg", "bat_temp_avg"], [1, 3, 1, "c.BmsStatus.bat_temp_max", "bat_temp_max"], [1, 3, 1, "c.BmsStatus.bat_temp_min", "bat_temp_min"], [1, 3, 1, "c.BmsStatus.bat_temps", "bat_temps"], [1, 3, 1, "c.BmsStatus.cell_voltage_avg", "cell_voltage_avg"], [1, 3, 1, "c.BmsStatus.cell_voltage_max", "cell_voltage_max"], [1, 3, 1, "c.BmsStatus.cell_voltage_min", "cell_voltage_min"], [1, 3, 1, "c.BmsStatus.cell_voltages", "cell_voltages"], [1, 3, 1, "c.BmsStatus.chg_enable", "chg_enable"], [1, 3, 1, "c.BmsStatus.connected_cells", "connected_cells"], [1, 3, 1, "c.BmsStatus.dis_enable", "dis_enable"], [1, 3, 1, "c.BmsStatus.empty", "empty"], [1, 3, 1, "c.BmsStatus.error_flags", "error_flags"], [1, 3, 1, "c.BmsStatus.full", "full"], [1, 3, 1, "c.BmsStatus.ic_temp", "ic_temp"], [1, 3, 1, "c.BmsStatus.mcu_temp", "mcu_temp"], [1, 3, 1, "c.BmsStatus.mosfet_temp", "mosfet_temp"], [1, 3, 1, "c.BmsStatus.no_idle_timestamp", "no_idle_timestamp"], [1, 3, 1, "c.BmsStatus.pack_current", "pack_current"], [1, 3, 1, "c.BmsStatus.pack_voltage", "pack_voltage"], [1, 3, 1, "c.BmsStatus.soc", "soc"], [1, 3, 1, "c.BmsStatus.stack_voltage", "stack_voltage"], [1, 3, 1, "c.BmsStatus.state", "state"]], "CellType": [[1, 1, 1, "c.CellType.CELL_TYPE_CUSTOM", "CELL_TYPE_CUSTOM"], [1, 1, 1, "c.CellType.CELL_TYPE_LFP", "CELL_TYPE_LFP"], [1, 1, 1, "c.CellType.CELL_TYPE_LTO", "CELL_TYPE_LTO"], [1, 1, 1, "c.CellType.CELL_TYPE_NMC", "CELL_TYPE_NMC"], [1, 1, 1, "c.CellType.CELL_TYPE_NMC_HV", "CELL_TYPE_NMC_HV"]], "bms_balancing_allowed": [[1, 6, 1, "c.bms_balancing_allowed", "bms"]], "bms_chg_allowed": [[1, 6, 1, "c.bms_chg_allowed", "bms"]], "bms_chg_error": [[1, 6, 1, "c.bms_chg_error", "error_flags"]], "bms_chg_switch": [[1, 6, 1, "c.bms_chg_switch", "bms"], [1, 6, 1, "c.bms_chg_switch", "enable"]], "bms_configure": [[1, 6, 1, "c.bms_configure", "bms"]], "bms_dis_allowed": [[1, 6, 1, "c.bms_dis_allowed", "bms"]], "bms_dis_error": [[1, 6, 1, "c.bms_dis_error", "error_flags"]], "bms_dis_switch": [[1, 6, 1, "c.bms_dis_switch", "bms"], [1, 6, 1, "c.bms_dis_switch", "enable"]], "bms_handle_errors": [[1, 6, 1, "c.bms_handle_errors", "bms"]], "bms_init_config": [[1, 6, 1, "c.bms_init_config", "bms"], [1, 6, 1, "c.bms_init_config", "nominal_capacity"], [1, 6, 1, "c.bms_init_config", "type"]], "bms_init_hardware": [[1, 6, 1, "c.bms_init_hardware", "bms"]], "bms_init_status": [[1, 6, 1, "c.bms_init_status", "bms"]], "bms_print_register": [[1, 6, 1, "c.bms_print_register", "addr"]], "bms_read_current": [[1, 6, 1, "c.bms_read_current", "bms"]], "bms_read_temperatures": [[1, 6, 1, "c.bms_read_temperatures", "bms"]], "bms_read_voltages": [[1, 6, 1, "c.bms_read_voltages", "bms"]], "bms_shutdown": [[1, 6, 1, "c.bms_shutdown", "bms"]], "bms_soc_reset": [[1, 6, 1, "c.bms_soc_reset", "bms"], [1, 6, 1, "c.bms_soc_reset", "percent"]], "bms_soc_update": [[1, 6, 1, "c.bms_soc_update", "bms"]], "bms_state_machine": [[1, 6, 1, "c.bms_state_machine", "bms"]], "bms_update": [[1, 6, 1, "c.bms_update", "bms"]], "bms_update_error_flags": [[1, 6, 1, "c.bms_update_error_flags", "bms"]], "byte2bitstr": [[3, 6, 1, "c.byte2bitstr", "b"]], "data_objects_update_conf": [[2, 6, 1, "c.data_objects_update_conf", "reason"]], "interpolate": [[3, 6, 1, "c.interpolate", "a"], [3, 6, 1, "c.interpolate", "b"], [3, 6, 1, "c.interpolate", "size"], [3, 6, 1, "c.interpolate", "value_a"]]}, "objtypes": {"0": "c:macro", "1": "c:enumerator", "2": "c:struct", "3": "c:member", "4": "c:enum", "5": "c:function", "6": "c:functionParam"}, "objnames": {"0": ["c", "macro", "C macro"], "1": ["c", "enumerator", "C enumerator"], "2": ["c", "struct", "C struct"], "3": ["c", "member", "C member"], "4": ["c", "enum", "C enum"], "5": ["c", "function", "C function"], "6": ["c", "functionParam", "C function parameter"]}, "titleterms": {"libr": 0, "solar": 0, "bm": [0, 1, 9], "firmwar": [0, 5], "document": 0, "data": 2, "object": 2, "misc": 3, "eeprom": 3, "button": 3, "helper": 3, "build": 4, "flash": 4, "board": [4, 9], "stm32": 4, "mcu": 4, "esp32": 4, "custom": 5, "hardwar": [5, 9], "specif": 5, "chang": 5, "applic": 5, "configur": 5, "batteri": 5, "capac": 5, "cell": 5, "type": 5, "number": 5, "seri": 5, "serial": 5, "interfac": 5, "unit": 6, "test": 6, "workspac": 7, "setup": 7, "featur": 8, "support": 9, "ic": 9}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Workspace Setup": [[7, "workspace-setup"]], "Features": [[8, "features"]], "Unit Tests": [[6, "unit-tests"]], "Supported Hardware": [[9, "supported-hardware"]], "Boards": [[9, "boards"]], "BMS ICs": [[9, "bms-ics"]], "Customization": [[5, "customization"]], "Hardware-specific changes": [[5, "hardware-specific-changes"]], "Application firmware configuration": [[5, "application-firmware-configuration"]], "Change battery capacity, cell type and number of cells in series": [[5, "change-battery-capacity-cell-type-and-number-of-cells-in-series"]], "Configure serial interface": [[5, "configure-serial-interface"]], "Building and Flashing": [[4, "building-and-flashing"]], "Boards with STM32 MCU": [[4, "boards-with-stm32-mcu"]], "Boards with ESP32 MCU": [[4, "boards-with-esp32-mcu"]], "BMS": [[1, "bms"]], "Data Objects": [[2, "data-objects"]], "Misc": [[3, "misc"]], "EEPROM": [[3, "eeprom"]], "Button": [[3, "button"]], "Helper": [[3, "helper"]], "Libre Solar BMS Firmware Documentation": [[0, "libre-solar-bms-firmware-documentation"]]}, "indexentries": {"bms (c struct)": [[1, "c.Bms"]], "bms.conf (c var)": [[1, "c.Bms.conf"]], "bms.status (c var)": [[1, "c.Bms.status"]], "bmsconfig (c struct)": [[1, "c.BmsConfig"]], "bmsconfig.bal_cell_voltage_diff (c var)": [[1, "c.BmsConfig.bal_cell_voltage_diff"]], "bmsconfig.bal_cell_voltage_min (c var)": [[1, "c.BmsConfig.bal_cell_voltage_min"]], "bmsconfig.bal_idle_current (c var)": [[1, "c.BmsConfig.bal_idle_current"]], "bmsconfig.bal_idle_delay (c var)": [[1, "c.BmsConfig.bal_idle_delay"]], "bmsconfig.cell_chg_voltage (c var)": [[1, "c.BmsConfig.cell_chg_voltage"]], "bmsconfig.cell_dis_voltage (c var)": [[1, "c.BmsConfig.cell_dis_voltage"]], "bmsconfig.cell_ov_delay_ms (c var)": [[1, "c.BmsConfig.cell_ov_delay_ms"]], "bmsconfig.cell_ov_limit (c var)": [[1, "c.BmsConfig.cell_ov_limit"]], "bmsconfig.cell_ov_reset (c var)": [[1, "c.BmsConfig.cell_ov_reset"]], "bmsconfig.cell_uv_delay_ms (c var)": [[1, "c.BmsConfig.cell_uv_delay_ms"]], "bmsconfig.cell_uv_limit (c var)": [[1, "c.BmsConfig.cell_uv_limit"]], "bmsconfig.cell_uv_reset (c var)": [[1, "c.BmsConfig.cell_uv_reset"]], "bmsconfig.chg_oc_delay_ms (c var)": [[1, "c.BmsConfig.chg_oc_delay_ms"]], "bmsconfig.chg_oc_limit (c var)": [[1, "c.BmsConfig.chg_oc_limit"]], "bmsconfig.chg_ot_limit (c var)": [[1, "c.BmsConfig.chg_ot_limit"]], "bmsconfig.chg_ut_limit (c var)": [[1, "c.BmsConfig.chg_ut_limit"]], "bmsconfig.dis_oc_delay_ms (c var)": [[1, "c.BmsConfig.dis_oc_delay_ms"]], "bmsconfig.dis_oc_limit (c var)": [[1, "c.BmsConfig.dis_oc_limit"]], "bmsconfig.dis_ot_limit (c var)": [[1, "c.BmsConfig.dis_ot_limit"]], "bmsconfig.dis_sc_delay_us (c var)": [[1, "c.BmsConfig.dis_sc_delay_us"]], "bmsconfig.dis_sc_limit (c var)": [[1, "c.BmsConfig.dis_sc_limit"]], "bmsconfig.dis_ut_limit (c var)": [[1, "c.BmsConfig.dis_ut_limit"]], "bmsconfig.nominal_capacity_ah (c var)": [[1, "c.BmsConfig.nominal_capacity_Ah"]], "bmsconfig.ocv (c var)": [[1, "c.BmsConfig.ocv"]], "bmsconfig.shunt_res_mohm (c var)": [[1, "c.BmsConfig.shunt_res_mOhm"]], "bmsconfig.t_limit_hyst (c var)": [[1, "c.BmsConfig.t_limit_hyst"]], "bmsconfig.thermistor_beta (c var)": [[1, "c.BmsConfig.thermistor_beta"]], "bmserrorflag (c enum)": [[1, "c.BmsErrorFlag"]], "bmserrorflag.bms_err_cell_failure (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_CELL_FAILURE"]], "bmserrorflag.bms_err_cell_overvoltage (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_CELL_OVERVOLTAGE"]], "bmserrorflag.bms_err_cell_undervoltage (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_CELL_UNDERVOLTAGE"]], "bmserrorflag.bms_err_chg_off (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_CHG_OFF"]], "bmserrorflag.bms_err_chg_overcurrent (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_CHG_OVERCURRENT"]], "bmserrorflag.bms_err_chg_overtemp (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_CHG_OVERTEMP"]], "bmserrorflag.bms_err_chg_undertemp (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_CHG_UNDERTEMP"]], "bmserrorflag.bms_err_dis_off (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_DIS_OFF"]], "bmserrorflag.bms_err_dis_overcurrent (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_DIS_OVERCURRENT"]], "bmserrorflag.bms_err_dis_overtemp (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_DIS_OVERTEMP"]], "bmserrorflag.bms_err_dis_undertemp (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_DIS_UNDERTEMP"]], "bmserrorflag.bms_err_fet_overtemp (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_FET_OVERTEMP"]], "bmserrorflag.bms_err_int_overtemp (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_INT_OVERTEMP"]], "bmserrorflag.bms_err_open_wire (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_OPEN_WIRE"]], "bmserrorflag.bms_err_short_circuit (c enumerator)": [[1, "c.BmsErrorFlag.BMS_ERR_SHORT_CIRCUIT"]], "bmsstate (c enum)": [[1, "c.BmsState"]], "bmsstate.bms_state_chg (c enumerator)": [[1, "c.BmsState.BMS_STATE_CHG"]], "bmsstate.bms_state_dis (c enumerator)": [[1, "c.BmsState.BMS_STATE_DIS"]], "bmsstate.bms_state_normal (c enumerator)": [[1, "c.BmsState.BMS_STATE_NORMAL"]], "bmsstate.bms_state_off (c enumerator)": [[1, "c.BmsState.BMS_STATE_OFF"]], "bmsstate.bms_state_shutdown (c enumerator)": [[1, "c.BmsState.BMS_STATE_SHUTDOWN"]], "bmsstatus (c struct)": [[1, "c.BmsStatus"]], "bmsstatus.balancing_status (c var)": [[1, "c.BmsStatus.balancing_status"]], "bmsstatus.bat_temp_avg (c var)": [[1, "c.BmsStatus.bat_temp_avg"]], "bmsstatus.bat_temp_max (c var)": [[1, "c.BmsStatus.bat_temp_max"]], "bmsstatus.bat_temp_min (c var)": [[1, "c.BmsStatus.bat_temp_min"]], "bmsstatus.bat_temps (c var)": [[1, "c.BmsStatus.bat_temps"]], "bmsstatus.cell_voltage_avg (c var)": [[1, "c.BmsStatus.cell_voltage_avg"]], "bmsstatus.cell_voltage_max (c var)": [[1, "c.BmsStatus.cell_voltage_max"]], "bmsstatus.cell_voltage_min (c var)": [[1, "c.BmsStatus.cell_voltage_min"]], "bmsstatus.cell_voltages (c var)": [[1, "c.BmsStatus.cell_voltages"]], "bmsstatus.chg_enable (c var)": [[1, "c.BmsStatus.chg_enable"]], "bmsstatus.connected_cells (c var)": [[1, "c.BmsStatus.connected_cells"]], "bmsstatus.dis_enable (c var)": [[1, "c.BmsStatus.dis_enable"]], "bmsstatus.empty (c var)": [[1, "c.BmsStatus.empty"]], "bmsstatus.error_flags (c var)": [[1, "c.BmsStatus.error_flags"]], "bmsstatus.full (c var)": [[1, "c.BmsStatus.full"]], "bmsstatus.ic_temp (c var)": [[1, "c.BmsStatus.ic_temp"]], "bmsstatus.mcu_temp (c var)": [[1, "c.BmsStatus.mcu_temp"]], "bmsstatus.mosfet_temp (c var)": [[1, "c.BmsStatus.mosfet_temp"]], "bmsstatus.no_idle_timestamp (c var)": [[1, "c.BmsStatus.no_idle_timestamp"]], "bmsstatus.pack_current (c var)": [[1, "c.BmsStatus.pack_current"]], "bmsstatus.pack_voltage (c var)": [[1, "c.BmsStatus.pack_voltage"]], "bmsstatus.soc (c var)": [[1, "c.BmsStatus.soc"]], "bmsstatus.stack_voltage (c var)": [[1, "c.BmsStatus.stack_voltage"]], "bmsstatus.state (c var)": [[1, "c.BmsStatus.state"]], "celltype (c enum)": [[1, "c.CellType"]], "celltype.cell_type_custom (c enumerator)": [[1, "c.CellType.CELL_TYPE_CUSTOM"]], "celltype.cell_type_lfp (c enumerator)": [[1, "c.CellType.CELL_TYPE_LFP"]], "celltype.cell_type_lto (c enumerator)": [[1, "c.CellType.CELL_TYPE_LTO"]], "celltype.cell_type_nmc (c enumerator)": [[1, "c.CellType.CELL_TYPE_NMC"]], "celltype.cell_type_nmc_hv (c enumerator)": [[1, "c.CellType.CELL_TYPE_NMC_HV"]], "ocv_points (c macro)": [[1, "c.OCV_POINTS"]], "bms_balancing_allowed (c function)": [[1, "c.bms_balancing_allowed"]], "bms_chg_allowed (c function)": [[1, "c.bms_chg_allowed"]], "bms_chg_error (c function)": [[1, "c.bms_chg_error"]], "bms_chg_switch (c function)": [[1, "c.bms_chg_switch"]], "bms_configure (c function)": [[1, "c.bms_configure"]], "bms_dis_allowed (c function)": [[1, "c.bms_dis_allowed"]], "bms_dis_error (c function)": [[1, "c.bms_dis_error"]], "bms_dis_switch (c function)": [[1, "c.bms_dis_switch"]], "bms_handle_errors (c function)": [[1, "c.bms_handle_errors"]], "bms_init_config (c function)": [[1, "c.bms_init_config"]], "bms_init_hardware (c function)": [[1, "c.bms_init_hardware"]], "bms_init_status (c function)": [[1, "c.bms_init_status"]], "bms_print_register (c function)": [[1, "c.bms_print_register"]], "bms_print_registers (c function)": [[1, "c.bms_print_registers"]], "bms_read_current (c function)": [[1, "c.bms_read_current"]], "bms_read_temperatures (c function)": [[1, "c.bms_read_temperatures"]], "bms_read_voltages (c function)": [[1, "c.bms_read_voltages"]], "bms_shutdown (c function)": [[1, "c.bms_shutdown"]], "bms_soc_reset (c function)": [[1, "c.bms_soc_reset"]], "bms_soc_update (c function)": [[1, "c.bms_soc_update"]], "bms_startup_inhibit (c function)": [[1, "c.bms_startup_inhibit"]], "bms_state_machine (c function)": [[1, "c.bms_state_machine"]], "bms_update (c function)": [[1, "c.bms_update"]], "bms_update_error_flags (c function)": [[1, "c.bms_update_error_flags"]], "soc_pct (c var)": [[1, "c.soc_pct"]], "app_id_conf (c macro)": [[2, "c.APP_ID_CONF"]], "app_id_conf_bal_idle_current (c macro)": [[2, "c.APP_ID_CONF_BAL_IDLE_CURRENT"]], "app_id_conf_bal_idle_delay (c macro)": [[2, "c.APP_ID_CONF_BAL_IDLE_DELAY"]], "app_id_conf_bal_min_voltage (c macro)": [[2, "c.APP_ID_CONF_BAL_MIN_VOLTAGE"]], "app_id_conf_bal_target_diff (c macro)": [[2, "c.APP_ID_CONF_BAL_TARGET_DIFF"]], "app_id_conf_cell_overvoltage (c macro)": [[2, "c.APP_ID_CONF_CELL_OVERVOLTAGE"]], "app_id_conf_cell_overvoltage_delay (c macro)": [[2, "c.APP_ID_CONF_CELL_OVERVOLTAGE_DELAY"]], "app_id_conf_cell_overvoltage_reset (c macro)": [[2, "c.APP_ID_CONF_CELL_OVERVOLTAGE_RESET"]], "app_id_conf_cell_undervoltage (c macro)": [[2, "c.APP_ID_CONF_CELL_UNDERVOLTAGE"]], "app_id_conf_cell_undervoltage_delay (c macro)": [[2, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_DELAY"]], "app_id_conf_cell_undervoltage_reset (c macro)": [[2, "c.APP_ID_CONF_CELL_UNDERVOLTAGE_RESET"]], "app_id_conf_chg_max_temp (c macro)": [[2, "c.APP_ID_CONF_CHG_MAX_TEMP"]], "app_id_conf_chg_min_temp (c macro)": [[2, "c.APP_ID_CONF_CHG_MIN_TEMP"]], "app_id_conf_chg_overcurrent (c macro)": [[2, "c.APP_ID_CONF_CHG_OVERCURRENT"]], "app_id_conf_chg_overcurrent_delay (c macro)": [[2, "c.APP_ID_CONF_CHG_OVERCURRENT_DELAY"]], "app_id_conf_dis_max_temp (c macro)": [[2, "c.APP_ID_CONF_DIS_MAX_TEMP"]], "app_id_conf_dis_min_temp (c macro)": [[2, "c.APP_ID_CONF_DIS_MIN_TEMP"]], "app_id_conf_dis_overcurrent (c macro)": [[2, "c.APP_ID_CONF_DIS_OVERCURRENT"]], "app_id_conf_dis_overcurrent_delay (c macro)": [[2, "c.APP_ID_CONF_DIS_OVERCURRENT_DELAY"]], "app_id_conf_nominal_capacity (c macro)": [[2, "c.APP_ID_CONF_NOMINAL_CAPACITY"]], "app_id_conf_preset_lfp (c macro)": [[2, "c.APP_ID_CONF_PRESET_LFP"]], "app_id_conf_preset_lfp_capacity (c macro)": [[2, "c.APP_ID_CONF_PRESET_LFP_CAPACITY"]], "app_id_conf_preset_nmc (c macro)": [[2, "c.APP_ID_CONF_PRESET_NMC"]], "app_id_conf_preset_nmc_capacity (c macro)": [[2, "c.APP_ID_CONF_PRESET_NMC_CAPACITY"]], "app_id_conf_short_circuit_current (c macro)": [[2, "c.APP_ID_CONF_SHORT_CIRCUIT_CURRENT"]], "app_id_conf_short_circuit_delay (c macro)": [[2, "c.APP_ID_CONF_SHORT_CIRCUIT_DELAY"]], "app_id_conf_temp_hyst (c macro)": [[2, "c.APP_ID_CONF_TEMP_HYST"]], "app_id_device (c macro)": [[2, "c.APP_ID_DEVICE"]], "app_id_device_fw_ver (c macro)": [[2, "c.APP_ID_DEVICE_FW_VER"]], "app_id_device_hw_ver (c macro)": [[2, "c.APP_ID_DEVICE_HW_VER"]], "app_id_device_manufacturer (c macro)": [[2, "c.APP_ID_DEVICE_MANUFACTURER"]], "app_id_device_print_reg (c macro)": [[2, "c.APP_ID_DEVICE_PRINT_REG"]], "app_id_device_print_regs (c macro)": [[2, "c.APP_ID_DEVICE_PRINT_REGS"]], "app_id_device_print_reg_addr (c macro)": [[2, "c.APP_ID_DEVICE_PRINT_REG_ADDR"]], "app_id_device_reset (c macro)": [[2, "c.APP_ID_DEVICE_RESET"]], "app_id_device_shutdown (c macro)": [[2, "c.APP_ID_DEVICE_SHUTDOWN"]], "app_id_device_type (c macro)": [[2, "c.APP_ID_DEVICE_TYPE"]], "app_id_input (c macro)": [[2, "c.APP_ID_INPUT"]], "app_id_input_chg_enable (c macro)": [[2, "c.APP_ID_INPUT_CHG_ENABLE"]], "app_id_input_dis_enable (c macro)": [[2, "c.APP_ID_INPUT_DIS_ENABLE"]], "app_id_meas (c macro)": [[2, "c.APP_ID_MEAS"]], "app_id_meas_balancing_status (c macro)": [[2, "c.APP_ID_MEAS_BALANCING_STATUS"]], "app_id_meas_bat_temp (c macro)": [[2, "c.APP_ID_MEAS_BAT_TEMP"]], "app_id_meas_bms_state (c macro)": [[2, "c.APP_ID_MEAS_BMS_STATE"]], "app_id_meas_cell_avg_voltage (c macro)": [[2, "c.APP_ID_MEAS_CELL_AVG_VOLTAGE"]], "app_id_meas_cell_max_voltage (c macro)": [[2, "c.APP_ID_MEAS_CELL_MAX_VOLTAGE"]], "app_id_meas_cell_min_voltage (c macro)": [[2, "c.APP_ID_MEAS_CELL_MIN_VOLTAGE"]], "app_id_meas_cell_voltages (c macro)": [[2, "c.APP_ID_MEAS_CELL_VOLTAGES"]], "app_id_meas_error_flags (c macro)": [[2, "c.APP_ID_MEAS_ERROR_FLAGS"]], "app_id_meas_ic_temp (c macro)": [[2, "c.APP_ID_MEAS_IC_TEMP"]], "app_id_meas_mcu_temp (c macro)": [[2, "c.APP_ID_MEAS_MCU_TEMP"]], "app_id_meas_mosfet_temp (c macro)": [[2, "c.APP_ID_MEAS_MOSFET_TEMP"]], "app_id_meas_pack_current (c macro)": [[2, "c.APP_ID_MEAS_PACK_CURRENT"]], "app_id_meas_pack_voltage (c macro)": [[2, "c.APP_ID_MEAS_PACK_VOLTAGE"]], "app_id_meas_soc (c macro)": [[2, "c.APP_ID_MEAS_SOC"]], "app_id_meas_stack_voltage (c macro)": [[2, "c.APP_ID_MEAS_STACK_VOLTAGE"]], "bat_preset_lfp (c function)": [[2, "c.bat_preset_lfp"]], "bat_preset_nmc (c function)": [[2, "c.bat_preset_nmc"]], "data_objects_update_conf (c function)": [[2, "c.data_objects_update_conf"]], "print_register (c function)": [[2, "c.print_register"]], "reset_device (c function)": [[2, "c.reset_device"]], "shutdown (c function)": [[2, "c.shutdown"]], "button_init (c function)": [[3, "c.button_init"]], "button_pressed_for_3s (c function)": [[3, "c.button_pressed_for_3s"]], "byte2bitstr (c function)": [[3, "c.byte2bitstr"]], "interpolate (c function)": [[3, "c.interpolate"]], "uptime (c function)": [[3, "c.uptime"]]}})